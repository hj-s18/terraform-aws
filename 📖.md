# 기본 정보 확인

테라폼 실행 <br>
만들어진 bastion 인스턴스에 접속 <br>
AWS CLI, Kubectl 설치 → EKS와 연결 <br>

이후 기본 정보 확인

<br>

### kubectl get all -A 

⇒ pod, service, daemonset, deployment, replicaset, statefulset 정보 확인

```
[ec2-user@ip-10-0-1-147 ~]$ kubectl get all -A
NAMESPACE               NAME                                                            READY   STATUS             RESTARTS         AGE
cert-manager            pod/cert-manager-7ddb454967-65k8f                               1/1     Running            0                95m
cert-manager            pod/cert-manager-cainjector-766dd9ccf7-tjhsv                    1/1     Running            0                95m
cert-manager            pod/cert-manager-webhook-9c98cff95-6r5wg                        1/1     Running            0                95m
external-dns            pod/external-dns-7465775dd-cb2lx                                0/1     CrashLoopBackOff   23 (2m17s ago)   95m
karpenter               pod/karpenter-69c574fd78-tjrst                                  1/1     Running            0                95m
karpenter               pod/karpenter-69c574fd78-zxbgs                                  1/1     Running            0                95m
kube-prometheus-stack   pod/alertmanager-kube-prometheus-stack-alertmanager-0           2/2     Running            0                88m
kube-prometheus-stack   pod/kube-prometheus-stack-grafana-d477cd865-zsxhl               3/3     Running            0                88m
kube-prometheus-stack   pod/kube-prometheus-stack-kube-state-metrics-7cc6fcdf84-ddn45   1/1     Running            0                88m
kube-prometheus-stack   pod/kube-prometheus-stack-operator-66f4fb967-6qhl9              1/1     Running            0                88m
kube-prometheus-stack   pod/kube-prometheus-stack-prometheus-node-exporter-6lcpl        1/1     Running            0                88m
kube-prometheus-stack   pod/kube-prometheus-stack-prometheus-node-exporter-sblmg        1/1     Running            0                88m
kube-prometheus-stack   pod/prometheus-kube-prometheus-stack-prometheus-0               2/2     Running            0                88m
kube-system             pod/aws-load-balancer-controller-58b554974-rwfrg                1/1     Running            0                95m
kube-system             pod/aws-load-balancer-controller-58b554974-twcx8                1/1     Running            0                95m
kube-system             pod/aws-node-6cxpn                                              2/2     Running            0                94m
kube-system             pod/aws-node-r4wfq                                              2/2     Running            0                95m
kube-system             pod/coredns-86f5954566-knl94                                    1/1     Running            0                95m
kube-system             pod/coredns-86f5954566-qdmwp                                    1/1     Running            0                95m
kube-system             pod/ebs-csi-controller-5b7d498c64-chwlx                         6/6     Running            0                95m
kube-system             pod/ebs-csi-controller-5b7d498c64-f58qj                         6/6     Running            0                95m
kube-system             pod/ebs-csi-node-6sk6z                                          3/3     Running            0                95m
kube-system             pod/ebs-csi-node-sj42q                                          3/3     Running            0                95m
kube-system             pod/kube-proxy-l8ncf                                            1/1     Running            0                95m
kube-system             pod/kube-proxy-wcskn                                            1/1     Running            0                95m
kube-system             pod/metrics-server-59659dbfc9-gswr4                             1/1     Running            0                95m

NAMESPACE               NAME                                                     TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)                        AGE
cert-manager            service/cert-manager                                     ClusterIP   172.20.128.167   <none>        9402/TCP                       95m
cert-manager            service/cert-manager-webhook                             ClusterIP   172.20.218.183   <none>        443/TCP                        95m
default                 service/kubernetes                                       ClusterIP   172.20.0.1       <none>        443/TCP                        179m
external-dns            service/external-dns                                     ClusterIP   172.20.229.92    <none>        7979/TCP                       95m
karpenter               service/karpenter                                        ClusterIP   172.20.59.8      <none>        8000/TCP                       95m
kube-prometheus-stack   service/alertmanager-operated                            ClusterIP   None             <none>        9093/TCP,9094/TCP,9094/UDP     88m
kube-prometheus-stack   service/kube-prometheus-stack-alertmanager               ClusterIP   172.20.126.9     <none>        9093/TCP,8080/TCP              88m
kube-prometheus-stack   service/kube-prometheus-stack-grafana                    ClusterIP   172.20.74.253    <none>        80/TCP                         88m
kube-prometheus-stack   service/kube-prometheus-stack-kube-state-metrics         ClusterIP   172.20.144.49    <none>        8080/TCP                       88m
kube-prometheus-stack   service/kube-prometheus-stack-operator                   ClusterIP   172.20.67.173    <none>        443/TCP                        88m
kube-prometheus-stack   service/kube-prometheus-stack-prometheus                 ClusterIP   172.20.143.255   <none>        9090/TCP,8080/TCP              88m
kube-prometheus-stack   service/kube-prometheus-stack-prometheus-node-exporter   ClusterIP   172.20.36.16     <none>        9100/TCP                       88m
kube-prometheus-stack   service/prometheus-operated                              ClusterIP   None             <none>        9090/TCP                       88m
kube-system             service/aws-load-balancer-webhook-service                ClusterIP   172.20.28.220    <none>        443/TCP                        95m
kube-system             service/eks-extension-metrics-api                        ClusterIP   172.20.187.45    <none>        443/TCP                        179m
kube-system             service/kube-dns                                         ClusterIP   172.20.0.10      <none>        53/UDP,53/TCP,9153/TCP         177m
kube-system             service/kube-prometheus-stack-coredns                    ClusterIP   None             <none>        9153/TCP                       88m
kube-system             service/kube-prometheus-stack-kube-controller-manager    ClusterIP   None             <none>        10257/TCP                      88m
kube-system             service/kube-prometheus-stack-kube-etcd                  ClusterIP   None             <none>        2381/TCP                       88m
kube-system             service/kube-prometheus-stack-kube-proxy                 ClusterIP   None             <none>        10249/TCP                      88m
kube-system             service/kube-prometheus-stack-kube-scheduler             ClusterIP   None             <none>        10259/TCP                      88m
kube-system             service/kube-prometheus-stack-kubelet                    ClusterIP   None             <none>        10250/TCP,10255/TCP,4194/TCP   92m
kube-system             service/metrics-server                                   ClusterIP   172.20.23.102    <none>        443/TCP                        95m

NAMESPACE               NAME                                                            DESIRED   CURRENT   READY   UP-TO-DATE   AVAILABLE   NODE SELECTOR              AGE
kube-prometheus-stack   daemonset.apps/kube-prometheus-stack-prometheus-node-exporter   2         2         2       2            2           kubernetes.io/os=linux     88m
kube-system             daemonset.apps/aws-node                                         2         2         2       2            2           <none>                     177m
kube-system             daemonset.apps/ebs-csi-node                                     2         2         2       2            2           kubernetes.io/os=linux     95m
kube-system             daemonset.apps/ebs-csi-node-windows                             0         0         0       0            0           kubernetes.io/os=windows   95m
kube-system             daemonset.apps/kube-proxy                                       2         2         2       2            2           <none>                     177m

NAMESPACE               NAME                                                       READY   UP-TO-DATE   AVAILABLE   AGE
cert-manager            deployment.apps/cert-manager                               1/1     1            1           95m
cert-manager            deployment.apps/cert-manager-cainjector                    1/1     1            1           95m
cert-manager            deployment.apps/cert-manager-webhook                       1/1     1            1           95m
external-dns            deployment.apps/external-dns                               0/1     1            0           95m
karpenter               deployment.apps/karpenter                                  2/2     2            2           95m
kube-prometheus-stack   deployment.apps/kube-prometheus-stack-grafana              1/1     1            1           88m
kube-prometheus-stack   deployment.apps/kube-prometheus-stack-kube-state-metrics   1/1     1            1           88m
kube-prometheus-stack   deployment.apps/kube-prometheus-stack-operator             1/1     1            1           88m
kube-system             deployment.apps/aws-load-balancer-controller               2/2     2            2           95m
kube-system             deployment.apps/coredns                                    2/2     2            2           177m
kube-system             deployment.apps/ebs-csi-controller                         2/2     2            2           95m
kube-system             deployment.apps/metrics-server                             1/1     1            1           95m

NAMESPACE               NAME                                                                  DESIRED   CURRENT   READY   AGE
cert-manager            replicaset.apps/cert-manager-7ddb454967                               1         1         1       95m
cert-manager            replicaset.apps/cert-manager-cainjector-766dd9ccf7                    1         1         1       95m
cert-manager            replicaset.apps/cert-manager-webhook-9c98cff95                        1         1         1       95m
external-dns            replicaset.apps/external-dns-7465775dd                                1         1         0       95m
karpenter               replicaset.apps/karpenter-69c574fd78                                  2         2         2       95m
kube-prometheus-stack   replicaset.apps/kube-prometheus-stack-grafana-d477cd865               1         1         1       88m
kube-prometheus-stack   replicaset.apps/kube-prometheus-stack-kube-state-metrics-7cc6fcdf84   1         1         1       88m
kube-prometheus-stack   replicaset.apps/kube-prometheus-stack-operator-66f4fb967              1         1         1       88m
kube-system             replicaset.apps/aws-load-balancer-controller-58b554974                2         2         2       95m
kube-system             replicaset.apps/coredns-86f5954566                                    2         2         2       95m
kube-system             replicaset.apps/coredns-9b5bc9468                                     0         0         0       177m
kube-system             replicaset.apps/ebs-csi-controller-5b7d498c64                         2         2         2       95m
kube-system             replicaset.apps/metrics-server-59659dbfc9                             1         1         1       95m

NAMESPACE               NAME                                                               READY   AGE
kube-prometheus-stack   statefulset.apps/alertmanager-kube-prometheus-stack-alertmanager   1/1     88m
kube-prometheus-stack   statefulset.apps/prometheus-kube-prometheus-stack-prometheus       1/1     88m
```

<br>
<br>
<br>

### kubectl get all -n kube-system

```
[ec2-user@ip-10-0-1-147 ~]$ kubectl get all -n kube-system
NAME                                               READY   STATUS    RESTARTS   AGE
pod/aws-load-balancer-controller-58b554974-rwfrg   1/1     Running   0          104m
pod/aws-load-balancer-controller-58b554974-twcx8   1/1     Running   0          104m
pod/aws-node-6cxpn                                 2/2     Running   0          104m
pod/aws-node-r4wfq                                 2/2     Running   0          104m
pod/coredns-86f5954566-knl94                       1/1     Running   0          104m
pod/coredns-86f5954566-qdmwp                       1/1     Running   0          104m
pod/ebs-csi-controller-5b7d498c64-chwlx            6/6     Running   0          104m
pod/ebs-csi-controller-5b7d498c64-f58qj            6/6     Running   0          104m
pod/ebs-csi-node-6sk6z                             3/3     Running   0          104m
pod/ebs-csi-node-sj42q                             3/3     Running   0          104m
pod/kube-proxy-l8ncf                               1/1     Running   0          104m
pod/kube-proxy-wcskn                               1/1     Running   0          104m
pod/metrics-server-59659dbfc9-gswr4                1/1     Running   0          104m

NAME                                                    TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)                        AGE
service/aws-load-balancer-webhook-service               ClusterIP   172.20.28.220   <none>        443/TCP                        104m
service/eks-extension-metrics-api                       ClusterIP   172.20.187.45   <none>        443/TCP                        3h8m
service/kube-dns                                        ClusterIP   172.20.0.10     <none>        53/UDP,53/TCP,9153/TCP         3h6m
service/kube-prometheus-stack-coredns                   ClusterIP   None            <none>        9153/TCP                       97m
service/kube-prometheus-stack-kube-controller-manager   ClusterIP   None            <none>        10257/TCP                      97m
service/kube-prometheus-stack-kube-etcd                 ClusterIP   None            <none>        2381/TCP                       97m
service/kube-prometheus-stack-kube-proxy                ClusterIP   None            <none>        10249/TCP                      97m
service/kube-prometheus-stack-kube-scheduler            ClusterIP   None            <none>        10259/TCP                      97m
service/kube-prometheus-stack-kubelet                   ClusterIP   None            <none>        10250/TCP,10255/TCP,4194/TCP   101m
service/metrics-server                                  ClusterIP   172.20.23.102   <none>        443/TCP                        104m

NAME                                  DESIRED   CURRENT   READY   UP-TO-DATE   AVAILABLE   NODE SELECTOR              AGE
daemonset.apps/aws-node               2         2         2       2            2           <none>                     3h6m
daemonset.apps/ebs-csi-node           2         2         2       2            2           kubernetes.io/os=linux     104m
daemonset.apps/ebs-csi-node-windows   0         0         0       0            0           kubernetes.io/os=windows   104m
daemonset.apps/kube-proxy             2         2         2       2            2           <none>                     3h6m

NAME                                           READY   UP-TO-DATE   AVAILABLE   AGE
deployment.apps/aws-load-balancer-controller   2/2     2            2           104m
deployment.apps/coredns                        2/2     2            2           3h6m
deployment.apps/ebs-csi-controller             2/2     2            2           104m
deployment.apps/metrics-server                 1/1     1            1           104m

NAME                                                     DESIRED   CURRENT   READY   AGE
replicaset.apps/aws-load-balancer-controller-58b554974   2         2         2       104m
replicaset.apps/coredns-86f5954566                       2         2         2       104m
replicaset.apps/coredns-9b5bc9468                        0         0         0       3h6m
replicaset.apps/ebs-csi-controller-5b7d498c64            2         2         2       104m
replicaset.apps/metrics-server-59659dbfc9                1         1         1       104m
```
